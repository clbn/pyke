# coding: utf-8

import os

PID_FILE = __file__ + '.pid'

def start():
    """start daemon"""
    _show_message('starting a new daemon')
    open(PID_FILE, 'w').write(str(os.getpid()))


def stop():
    """stop daemon"""
    if os.path.exists(PID_FILE):
        pid = int(open(PID_FILE).read())
        _show_message('stopping daemon, pid={pid}'.format(pid=pid))
    else:
        _show_message('daemon is not running')


def status():
    """display current status"""
    running = os.path.exists(PID_FILE)
    _show_message('daemon is running' if running else 'daemon is not running')


def _show_message(message):
    """this function is not a command"""
    print(_show_message)
